<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>A股市场观察</title>
    <link rel="stylesheet" href="sidebar.css">
    <link rel="stylesheet" href="main.css">
</head>
<body>

<!-- Sidebar Container -->
<div id="sidebar-container"></div>

<!-- Main Content -->
<div class="main-content">
    <header>
        <div style="display: flex; align-items: center;">
            <button class="menu-toggle" id="menu-toggle">☰</button>
            <div class="page-title" style="margin-left: 15px;">A股市场观察(中证800)</div>
        </div>
        <div class="update-time">更新于: <span id="update-time">--</span></div>
    </header>

    <div class="container">
        <!-- 1. 市场概览 -->
        <div class="section-title">市场概览</div>
        <div class="grid">
            <div class="card full-width">
                <div class="card-header">市场宽度热力图</div>

                <div class="card-body">
                    <img src="docs/heatmap-800.png" alt="Market Width Heatmap" onclick="openLightbox(this)">
                </div>
            </div>
        </div>

        <!-- 2. 市场情绪 -->
        <div class="section-title">市场情绪</div>
        <div class="grid">
            <div class="card">
                <div class="card-header">指数强弱对比(归一化)</div>
                <div class="card-body">
                    <img src="docs/daily_overview.png" onerror="this.src='docs/demo.png'" alt="Daily Overview" onclick="openLightbox(this)">
                </div>
            </div>
            <div class="card">
                <div class="card-header">多维共振分析 (拥挤度/RSI/乖离率)</div>
                <div class="card-body">
                    <img src="docs/combined_indicators-800.png" alt="Combined Indicators" onclick="openLightbox(this)">
                </div>
            </div>
        </div>

        <!-- 3. 趋势结构 -->
        <div class="section-title">趋势结构 & 资金流向</div>
        <div class="grid">
            <div class="card">
                <div class="card-header">创新高/新低 (NH/NL)</div>
                <div class="card-body">
                    <img src="docs/nhnl-800.png" alt="New Highs / New Lows" onclick="openLightbox(this)">
                </div>
            </div>
            <div class="card">
                <div class="card-header">行业成交额趋势</div>
                <div class="card-body">
                    <img src="docs/turnover-line-800.png" alt="Turnover Trend" onclick="openLightbox(this)">
                </div>
            </div>
        </div>

        <!-- 4. 排名数据 -->
        <div class="section-title">强势排行</div>
        <div class="grid-3">
            <div class="card">
                <div class="card-header">Beta 系数排名</div>
                <div class="card-body">
                    <img src="docs/beta_ranking-800.png" alt="Beta Ranking" onclick="openLightbox(this)">
                </div>
            </div>
            <div class="card">
                <div class="card-header">成交额排名</div>
                <div class="card-body">
                    <img src="docs/turnover_ranking-800.png" alt="Turnover Ranking" onclick="openLightbox(this)">
                </div>
            </div>
            <div class="card">
                <div class="card-header">动量排名 (RPS)</div>
                <div class="card-body">
                    <img src="docs/rps-line-800-mom.png" alt="RPS Momentum" onclick="openLightbox(this)">
                </div>
            </div>
        </div>
    </div>

    <footer>
        <p>数据来源：自动化统计系统 | 仅供参考，不构成投资建议</p>
        <p>&copy; <script>document.write(new Date().getFullYear())</script> Greedy Alpha Report</p>
    </footer>
</div>

<!-- Floating QR Code -->
<div class="floating-qr">
    <img src="docs/qrcode.png" alt="公众号二维码">
</div>

<!-- Lightbox -->
<div id="lightbox" class="lightbox" onclick="closeLightbox()">
    <img id="lightbox-img" src="" alt="Full Screen Image">
</div>

<script src="layout.js"></script>
<script>
    // Update time
    const now = new Date();
    document.getElementById('update-time').textContent = now.toLocaleDateString() + ' ' + now.toLocaleTimeString();

    // Lightbox functionality
    function openLightbox(imgElement) {
        const lightbox = document.getElementById('lightbox');
        const lightboxImg = document.getElementById('lightbox-img');

        lightboxImg.src = imgElement.src.split('?')[0] + '?t=' + new Date().getTime();
        lightbox.style.display = 'flex';
        setTimeout(() => lightbox.classList.add('active'), 10);
    }

    function closeLightbox() {
        const lightbox = document.getElementById('lightbox');
        lightbox.classList.remove('active');
        setTimeout(() => {
            lightbox.style.display = 'none';
        }, 300);
    }
</script>

</body>
</html>
